@model CheckoutConfirmModel
<div class="checkout-data">
    @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.OpCheckoutConfirmTop })

    @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.OpCheckoutConfirmBottom })
    <div class="section order-summary section-order-summary-mobile">
        <div class="row justify-content-center">
            <div class="wop col-lg-10">
                @await Component.InvokeAsync("OrderSummary", new { prepareAndDisplayOrderReviewData = true, IsEditable = true, IsFromCheckout = true })
            </div>
        </div>
    </div>
    @if (!string.IsNullOrEmpty(Model.MinOrderTotalWarning) || Model.Warnings.Count > 0)
    {
        <div class="section confirm-order">
            @if (!string.IsNullOrEmpty(Model.MinOrderTotalWarning))
            {
                <div>
                    <span class="min-order-warning">@Model.MinOrderTotalWarning</span>
                </div>
            }
            @if (Model.Warnings.Count > 0)
            {
                <div class="message-error" style="text-align: center !important;">
                    <ul>
                        @foreach (var warning in Model.Warnings)
                        {
                            if (warning.Contains("Error #E00007") || warning.Contains("#250") || warning.Contains("#251"))
                            {
                                <li>
                                    @T("AuthorizeNetPayment.error")

                                </li>
                            }
                            else
                            {
                                <li>@warning</li>
                            }
                        }
                    </ul>
                </div>
            }
        </div>
    }
    @if (string.IsNullOrEmpty(Model.MinOrderTotalWarning) && Model.TermsOfServiceOnOrderConfirmPage)
    {
        <div id="terms-of-service-warning-box" title="@T("Checkout.TermsOfService")" style="display:none;">
            <p>@T("Checkout.TermsOfService.PleaseAccept")</p>
        </div>
        <div class="terms-of-service">
            <input id="termsofservice" type="checkbox" name="termsofservice" />
            <label for="termsofservice">@T("Checkout.TermsOfService.IAccept")</label>
            @if (Model.TermsOfServicePopup)
            {
                <a class="read" id="read-terms">@T("Checkout.TermsOfService.Read")</a>
                <script>
                    $(document).ready(function() {
                        $('#read-terms').on('click', function(e) {
                            e.preventDefault();
                            displayPopupContentFromUrl('@Url.RouteUrl("TopicPopup", new {SystemName = "conditionsofuse"})', '@T("Checkout.TermsOfService")');
                        });
                    });
                </script>
            }
            else
            {
                <a class="read" id="read-terms" href="@Url.RouteUrl("Topic", new {SeName = Html.GetTopicSeName("conditionsofuse") })">@T("Checkout.TermsOfService.Read")</a>
            }
        </div>
    }
</div>

<style>
    .category-label{
        display:none;
    }
</style>
